
<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
  <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
  <script src="http://revh.github.io/leaflet-draggable-polyline/leaflet.geometryutil.js"></script>
  <script src="http://rawgithub.com/RevH/leaflet-draggable-polyline/master/leaflet-draggable-polyline.js"></script>
  <style>
    .leaflet-div-icon {
      -webkit-border-radius: 10px;
      -moz-border-radius: 10px;
      border-radius: 10px;
    }
  </style>
</head>
<body>

  <h1>Leaflet draggable polyline</h1>
  <p>The green polyline can be edited by dragging its vertices. Destroy a vertex with the rightclick</p>
  <p>The red polyline can't drag the <strong>first</strong> and the <strong>last</strong> vertices</p>
  <div id="map" style="width: 1900px; height: 500px"></div>

  <h1>Option</h1>
  <pre>
  edit_drag: true/false - enable disable the plugin over the polyline

  vertices: {
      first: true/false
      last: true/false
      middle: true/false
      insert: true/false
      destroy: true/false
  }
  </pre>

  <script>
    var map = L.map("map");

    var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
    var osmAttrib='Map data Â© OpenStreetMap contributors';
    L.tileLayer(osmUrl, {minZoom: 0, maxZoom: 15, attribution: osmAttrib}).addTo(map);

    var coordinates1 = [
      [45.2766983957207, 13.720893859863281],
      [45.27778554315248, 13.724026679992674],
      [45.2776703394, 13.7291487239],
      [45.2746230524, 13.7283730778]
    ];

    var coordinates2 = [

      [45.2737827215, 13.7252887813],
      [45.2744277756, 13.7251200459],
      [45.2747125506, 13.7229381908],
      [45.2746349263, 13.7213142352],
      [45.2749326769, 13.7207699906]
    ];

    var polyline1 = L.polyline(coordinates1, { color: '#00ff00', edit_with_drag: true  }).addTo(map);
    var polyline2 = L.polyline(coordinates2, { color: '#ff0000', edit_with_drag: true, vertices: { first: false, last: false, middle: true, insert: true, destroy: true }  }).addTo(map);

    map.fitBounds(polyline1.getBounds());
  </script>
</body>
</html>
